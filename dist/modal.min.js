define(["require","exports","jquery"],function(a,b,c){var d=function(){function a(a,b){void 0===b&&(b=null),this.$el=a,this.gallery=b,this.init()}return a.prototype.init=function(){var a=this;this.$el.find(".close").click(function(b){b.preventDefault(),a.close()}),this.gallery?this.$el.find(".next, .previous").click(function(b){var d=c(b.currentTarget).data("direction");b.preventDefault(),a.gallery.handleNextPrev(d)}):this.$el.find(".next, .previous").addClass("state--hidden")},a.prototype.show=function(a){void 0===a&&(a=null),this.$el.addClass("state--active"),c("body").addClass("modal--active")},a.prototype.close=function(a){void 0===a&&(a=null),this.$el.removeClass("state--active"),c("body").removeClass("modal--active"),this.$el.find(".modal-content").empty()},a.prototype.setContent=function(a,b,d){this.$el.find(".modal-content").html(a),b?this.$el.find(".previous").removeClass("state--hidden"):this.$el.find(".previous").addClass("state--hidden"),d?this.$el.find(".next").removeClass("state--hidden"):this.$el.find(".next").addClass("state--hidden");var e=parseInt(this.$el.find(".modal-media-src img").attr("width"),10);e||(e=1e3),e=Math.min(e,(c(window).height()-200)*(5/3)),this.$el.find(".modal-container .modal-media-src").css("max-width",e),this.$el.find(".modal-container").css("max-width",Math.max(500,e)),this.$el.find(".modal-container .modal-media-src > img").css("max-height",.7*c(window).height())},a.prototype.setHeading=function(a){this.$el.find(".heading").text(a)},a}();b.Modal=d});