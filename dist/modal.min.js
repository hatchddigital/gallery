define(["require","exports","jquery"],function(t,e,a){var i=function(){function t(t,e){e===void 0&&(e=null),this.$el=t,this.gallery=e,this.init()}return t.prototype.init=function(){var t=this;this.$el.find(".close").click(function(e){e.preventDefault(),t.close()}),this.gallery?this.$el.find(".next, .previous").click(function(e){var i=a(e.currentTarget).data("direction");e.preventDefault(),t.gallery.handleNextPrev(i)}):this.$el.find(".next, .previous").addClass("state--hidden")},t.prototype.show=function(t){t===void 0&&(t=null),this.$el.addClass("state--active"),a("body").addClass("modal--active")},t.prototype.close=function(t){t===void 0&&(t=null),this.$el.removeClass("state--active"),a("body").removeClass("modal--active"),this.$el.find(".modal-content").empty()},t.prototype.setContent=function(t,e,i){this.$el.find(".modal-content").html(t),e?this.$el.find(".previous").removeClass("state--hidden"):this.$el.find(".previous").addClass("state--hidden"),i?this.$el.find(".next").removeClass("state--hidden"):this.$el.find(".next").addClass("state--hidden");var n=parseInt(this.$el.find(".modal-media-src img").attr("width"),10);n||(n=1e3),n=Math.min(n,(a(window).height()-200)*(5/3)),this.$el.find(".modal-container .modal-media-src").css("max-width",n),this.$el.find(".modal-container").css("max-width",Math.max(500,n)),this.$el.find(".modal-container .modal-media-src > img").css("max-height",.7*a(window).height())},t.prototype.setHeading=function(t){this.$el.find(".heading").text(t)},t}();e.Modal=i});